<!DOCTYPE html>
<html>
<head>
    <title>Reproductor de Audio de Streams de Video</title>
    <script type='text/javascript' src="//ssl.p.jwpcdn.com/player/v/8.25.0/jwplayer.js"></script>
    <script type='text/javascript'>jwplayer.key='XSuP4qMl+9tK17QNb+4+th2Pm9AWgMO/cYH8CI0HGGr7bdjo'</script>
</head>
<body>
    <div>
        <select id="streamSelector">
            <option value="https://bvsat02.cdn.rcs.net.ar/mnp/a24/output.mpd">A24</option>
            <option value="https://bvsat02.cdn.rcs.net.ar/mnp/c5n/output.mpd">C5N</option>
            <!-- Otras opciones de stream aquí -->
        </select>
        <button onclick="cargarStream()">Cargar Audio del Stream de Video</button>
    </div>
    <div id="controls">
        <button onclick="playPause()">Play/Pausa</button>
        <button onclick="changeVolume(-5)">Bajar Volumen</button>
        <button onclick="changeVolume(5)">Subir Volumen</button>
    </div>
    <script type='text/javascript'>
        var audioPlayer = new Audio();
        var selectedStream = null;

        function cargarStream() {
            var selectBox = document.getElementById("streamSelector");
            selectedStream = selectBox.options[selectBox.selectedIndex].value;

            fetch(selectedStream)
                .then(response => response.text())
                .then(data => {
                    // Parsear el XML del MPD
                    var parser = new DOMParser();
                    var xmlDoc = parser.parseFromString(data, "text/xml");

                    // Encontrar la representación de audio
                    var audioRepresentation = xmlDoc.querySelector("AdaptationSet[mimeType='audio/mp4'] Representation");

                    // Obtener la URL del archivo de audio
                    var audioURL = audioRepresentation.querySelector("BaseURL").textContent;

                    // Cargar la URL del archivo de audio en el reproductor de audio
                    audioPlayer.src = audioURL;
                    audioPlayer.play();
                })
                .catch(error => {
                    console.error('Error al cargar el MPD:', error);
                });
        }

        function playPause() {
            if (audioPlayer.paused) {
                audioPlayer.play();
            } else {
                audioPlayer.pause();
            }
        }

        function changeVolume(amount) {
            var currentVolume = audioPlayer.volume;
            var newVolume = Math.max(0, Math.min(1, currentVolume + amount / 100));
            audioPlayer.volume = newVolume;
        }
    </script>
</body>
</html>
